# Installing system software

::: tip Disabling terminal sound

To disable annoying sound when doing incorrect actions in the terminal, run the following command:

```sh
sudo modprobe -r pcspkr
```

:::

After reboot, first of all you need to connect to the Internet. There are two options:

::: tabs

== Ethernet

If you are using `Ethernet` cable, no additional configuration is required in most cases, as default configuration supports most hardware by default.

== Wi-Fi

When you need to connect to the Internet via `wifi`, you can use `iw` and `wpa_supplicant` tools. First, make sure that the wireless interface is identified and it is up:

```sh
ip addr
```

If it is down, activate it with command (replace `wlp2s0` with the name of your adapter):

```sh
ip link set wlp2s0 up
```

Then list available networks (replace `wlp2s0` with the name of your adapter):

```sh
iw wlp2s0 scan | grep SSID
```

Generate a minimal configuration file passing the target network `ssid` and `password`:

```sh
wpa_passphrase <ssid> <password> > /etc/wpa_supplicant/wpa_supplicant.conf
```

Update the generated file `/etc/wpa_supplicant/wpa_supplicant.conf` by adding two lines, which would enable non-root users to operate the network adapter and enable support for `wpa_cli` tool:

```sh
ctrl_interface=DIR=/var/run/wpa_supplicant GROUP=wheel # [!code ++]
update_config=1 # [!code ++]
network={
	ssid="ssid"
	psk=psk
}
```

Then start `wpa_supplicant` service and add it to the `default` runlevel for enabling network on startup automatically:

```sh
rc-service wpa_supplicant start
rc-update add wpa_supplicant default
```

:::

To make sure you are connected to the Internet, run the following command, which should print your external IP address:

```sh
curl ifconfig.me
```

Then make some cleanup. Delete installation artifacts:

```sh
rm /stage3-*.tar.*
```

Configure the default editor. First, list options:

```sh
eselect editor list
```

And then configure the selected option as the default editor:

```sh
eselect editor set 3
```

Next, configure `/etc/hosts` file by opening it with `vim` and inserting demanded hostnames.

## Create the first user

As the next step, you should create a new user like you did at the beginning of the installation:

```sh
useradd -m -G users,wheel zeio
passwd zeio
export EDITOR=vim
visudo
```

Add the following line to the `sudoers` list:

```sh
root ALL=(ALL:ALL) ALL
zeio ALL=(ALL) NOPASSWD: ALL  # [!code ++]
```

::: warning Disabling root login

After creating a user with admin priviledges, it is recommended to check that the user really became the sudoer, and then disable logging in as `root`:

```sh
passwd -dl root
```

:::

Configure new user's `~/.bash_logout` to disable cleaning command history on logout:

```sh
# /etc/skel/.bash_logout

# This file is sourced when a login shell terminates.

# Clear the screen for security's sake.
clear # [!code --]
```

Then an important step is `ssh` key generation. Use the following command for that:

```sh
ssh-keygen -t ed25519 -C "zeio @ gore" -f $HOME/.ssh/id_ed25519
```

To print the generated key use the following command:

```sh
cat ~/.ssh/id_ed25519.pub
```

::: tip Default user

In the rest of the documentation, it is supposed that the commands are run from a non-`root` sudo user.

:::

## Install auxiliary software

Download and install the following packages:

```sh
sudo emerge --ask sys-process/htop app-misc/neofetch
```

Call `neofetch` to print the system info in a beautiful format:

```sh
         -/oyddmdhs+:.                zeio@gore
     -odNMMMMMMMMNNmhy+-`             ---------
   -yNMMMMMMMMMMMNNNmmdhy+-           OS: Gentoo Linux x86_64
 `omMMMMMMMMMMMMNmdmmmmddhhy/`        Host: 80E3 Lenovo G50-45
 omMMMMMMMMMMMNhhyyyohmdddhhhdo`      Kernel: 6.12.63-gentoo-dist
.ydMMMMMMMMMMdhs++so/smdddhhhhdm+`    Uptime: 28 mins
 oyhdmNMMMMMMMNdyooydmddddhhhhyhNd.   Packages: 450 (emerge)
  :oyhhdNNMMMMMMMNNNmmdddhhhhhyymMh   Shell: bash 5.3.9
    .:+sydNMMMMMNNNmmmdddhhhhhhmMmy   Resolution: 1366x768
       /mMMMMMMNNNmmmdddhhhhhmMNhs:   Terminal: /dev/pts/0
    `oNMMMMMMMNNNmmmddddhhdmMNhs+`    CPU: AMD A8-6410 APU with AMD Radeon R5 Graphics (4) @ 2.000GHz
  `sNMMMMMMMMNNNmmmdddddmNMmhs/.      GPU: AMD ATI Radeon R4/R5 Graphics
 /NMMMMMMMMNNNNmmmdddmNMNdso:`        GPU: AMD ATI Radeon HD 8550M / R5 M230
+MMMMMMMNNNNNmmmmdmNMNdso/-           Memory: 173MiB / 14932MiB
yMMNNNNNNNmmmmmNNMmhs+/-`
/hMMNNNNNNNNMNdhs++/-`
`/ohdmmddhys+++/:.`
  `-//////:--.
```
